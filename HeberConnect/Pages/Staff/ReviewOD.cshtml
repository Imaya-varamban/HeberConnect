@page
@model HeberConnect.Pages.Staff.ReviewODModel
@{
    Layout = "~/Pages/Shared/_LayoutStaff.cshtml";
}

<h3>Review OD Requests</h3>

<table class="table">
    <tr><th>Student</th><th>Date</th><th>Type</th><th>Hour</th><th>Reason</th><th>Status</th><th>Action</th></tr>
    @foreach (var req in Model.Requests)
    {
        <tr>

            <td>@req.StudentNumber</td>
            <td>@req.Date.ToShortDateString()</td>
            <td>@req.RequestType</td>
            <td>@(req.RequestType == "Hour" ? req.Hour?.ToString() : "-")</td>
            <td>@req.Reason</td>
            <td>@req.Status</td>
            <td>
                @if (req.Status == "Pending")
                {
                    <form method="post" asp-page-handler="Approve" asp-route-id="@req.Id" style="display:inline;">
                        <button class="btn btn-success btn-sm">Approve</button>
                    </form>
                    <form method="post" asp-page-handler="Reject" asp-route-id="@req.Id" style="display:inline;">
                        <button class="btn btn-danger btn-sm">Reject</button>
                    </form>
                }
            </td>
        </tr>
    }
</table>
